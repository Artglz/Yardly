<!DOCTYPE html>
<html>
<head>
  <title>Sign Up Form</title>
  <link rel="stylesheet" href="style.css">
  <!-- <script src="./script.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCkuKxxkg7BLtZ4IZVGTfSkuLttpC0HW0w&libraries=places"></script> -->
  <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css">
  <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body onload="initAutocomplete()">
  <div class="signup-form">
    <img src="Yardly.jpg" alt="">
    <h2>Calculate Property</h2>
    <!-- <form onsubmit="return submitForm()"> -->
    <form id="submitForm">
      <label for="name">Name:</label>
      <input type="text" id="name" name="name" placeholder="Enter your name"><br><br>
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" placeholder="Enter your email"><br><br>
      <label for="Home Address">Home Address:</label>
      <input type="Home Address" id="address" name="address" placeholder="Enter your address"><br><br>
      <!-- <button onclick="submitForm()">Submit</button> -->
      <button type="submit">Submit</button>
    </form>

    <div id="response-message"></div>
    <div id="property-details"></div>

    <py-script>
        from pyscript import Element

        # Get the div element
        response_message_div = Element("response-message")

        # Set the inner HTML of the div
        response_message_div.write("Hello, World!")
    </py-script>
<!--     <script>
        document.getElementById('submitForm').addEventListener('submit', function(event) {
          event.preventDefault(); // Prevent default form submission
        
          const formData = new FormData(this);
          const name = formData.get('name');
          const email = formData.get('email');
          const address = formData.get('address');
        
          fetch('/api/submit-form', {
            method: 'POST',
            body: JSON.stringify({ name, email, 'Home Address': address }),
            headers: { 'Content-Type': 'application/json' }
          })
          .then(response => response.json())
          .then(data => {
            console.log('Form submission response:', data);
            document.getElementById('property-details').innerText = `Form submitted successfully!`;
            window.location.href = 'submitForm.html';
          })
          .catch(error => console.error('Error submitting form:', error));
        });
      document.getElementById('submitForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission
      
        const formData = new FormData(this);
        const name = formData.get('name');
        const email = formData.get('email');
        const address = formData.get('address');
      
        fetch('/api/submitForm', {
          method: 'POST',
          body: JSON.stringify({ address }),
          headers: { 'Content-Type': 'application/json' }
        })
        .then(response => response.json())
        .then(data => {
          console.log('Form submission response:', data);
          document.getElementById('property-details').innerText = `Square footage: ${data.square_footage}`;
        })
        .catch(error => console.error('Error submitting form:', error));
      });
      document.getElementById('submitForm').addEventListener('submit', function(event) {
      event.preventDefault(); // Prevent default form submission
    
      fetch('/api/submitForm')
        .then(response => response.json())
        .then(data => {
          console.log('Form submission response:', data);
          document.getElementById('property-details').innerText = data.message;
        })
        .catch(error => console.error('Error submitting form:', error));
      });
     </script> -->
  </div>
</body>
</html>
